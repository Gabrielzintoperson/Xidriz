var tabuleiro2 = [
  {
    posicao: "a8",
    lances: 0,
    peca: "T",
    cor: "black",
  },
  {
    posicao: "b8",
    lances: 0,
    peca: "C",
    cor: "black",
  },
  {
    posicao: "c8",
    lances: 0,
    peca: "B",
    cor: "black",
  },
  {
    posicao: "d8",
    lances: 0,
    peca: "D",
    cor: "black",
  },
  {
    posicao: "e8",
    lances: 0,
    peca: "R",
    cor: "black",
  },
  {
    posicao: "f8",
    lances: 0,
    peca: "B",
    cor: "black",
  },
  {
    posicao: "g8",
    lances: 0,
    peca: "C",
    cor: "black",
  },
  {
    posicao: "h8",
    lances: 0,
    peca: "T",
    cor: "black",
  },
  {
    posicao: "a7",
    lances: 0,
    peca: "P",
    cor: "black",
  },
  {
    posicao: "b7",
    lances: 0,
    peca: "P",
    cor: "black",
  },
  {
    posicao: "c7",
    lances: 0,
    peca: "P",
    cor: "black",
  },
  {
    posicao: "d7",
    lances: 0,
    peca: "P",
    cor: "black",
  },
  {
    posicao: "e7",
    lances: 0,
    peca: "P",
    cor: "black",
  },
  {
    posicao: "f7",
    lances: 0,
    peca: "P",
    cor: "black",
  },
  {
    posicao: "g7",
    lances: 0,
    peca: "P",
    cor: "black",
  },
  {
    posicao: "h7",
    lances: 0,
    peca: "P",
    cor: "black",
  },
  {
    posicao: "a6",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "b6",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "c6",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "d6",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "e6",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "f6",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "g6",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "h6",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "a5",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "b5",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "c5",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "d5",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "e5",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "f5",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "g5",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "h5",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "a4",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "b4",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "c4",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "d4",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "e4",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "f4",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "g4",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "h4",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "a3",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "b3",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "c3",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "d3",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "e3",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "f3",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "g3",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "h3",
    lances: 1,
    peca: "",
    cor: "",
  },
  {
    posicao: "a2",
    lances: 0,
    peca: "P",
    cor: "white",
  },
  {
    posicao: "b2",
    lances: 0,
    peca: "P",
    cor: "white",
  },
  {
    posicao: "c2",
    lances: 0,
    peca: "P",
    cor: "white",
  },
  {
    posicao: "d2",
    lances: 0,
    peca: "P",
    cor: "white",
  },
  {
    posicao: "e2",
    lances: 0,
    peca: "P",
    cor: "white",
  },
  {
    posicao: "f2",
    lances: 0,
    peca: "P",
    cor: "white",
  },
  {
    posicao: "g2",
    lances: 0,
    peca: "P",
    cor: "white",
  },
  {
    posicao: "h2",
    lances: 0,
    peca: "P",
    cor: "white",
  },
  {
    posicao: "a1",
    lances: 0,
    peca: "T",
    cor: "white",
  },
  {
    posicao: "b1",
    lances: 0,
    peca: "C",
    cor: "white",
  },
  {
    posicao: "c1",
    lances: 0,
    peca: "B",
    cor: "white",
  },
  {
    posicao: "d1",
    lances: 0,
    peca: "D",
    cor: "white",
  },
  {
    posicao: "e1",
    lances: 0,
    peca: "R",
    cor: "white",
  },
  {
    posicao: "f1",
    lances: 0,
    peca: "B",
    cor: "white",
  },
  {
    posicao: "g1",
    lances: 0,
    peca: "C",
    cor: "white",
  },
  {
    posicao: "h1",
    lances: 0,
    peca: "T",
    cor: "white",
  },
];

var deQuemEAVez = "white"
var sequencia = ["a", "b", "c", "d", "e", "f", "g", "h"];
var pecaAgora = "";
var pecaAnterior = "a8";

var pecasALimpar = [];
var pecasAPintar = [];


function pintaCasas(){
  for (let p = 0; p < pecasAPintar.length; p++){
    document.body.querySelector('#' + pecasAPintar[p]).style.backgroundColor = 'rgb(136, 204, 136)'
  }
   pecasAPintar = []; 
}

function desenha() {
  for (let a = 0; a < 64; a++) {
    let ondeMeter = document.body.querySelector("#" + tabuleiro2[a].posicao);
    ondeMeter.innerHTML = tabuleiro2[a].peca;
    ondeMeter.style.color = tabuleiro2[a].cor;
  }
}

desenha();

function veLugar(quem) {
  let aponta = quem;
  let moves = tabuleiro2[aponta].lances;
  let lado = tabuleiro2[aponta].cor;
  let gps = [
    String(tabuleiro2[aponta].posicao[0]),
    Number(tabuleiro2[aponta].posicao[1]),
  ];

  let horizontal, vertical;
  vertical = gps[1]

  for(let h = 0; h < 8; h++){
    if(sequencia[h] == gps[0]){
      horizontal = h
    }
  }
  
  console.log(horizontal, vertical)      

  let pecinha = String(tabuleiro2[aponta].peca);

  if (pecinha !== "") {
    if (lado == "white"){
      if (pecinha == "P") {
        let numAcima1 = String(gps[1] + 1);
        let numAcima2 = String(gps[1] + 2);
        let acima1 = gps[0] + numAcima1
        let acima2 = gps[0] + numAcima2
        let bateu = false

        for(let i = 63; i >= 0; i--){
          if(tabuleiro2[i].posicao == acima1){
            if(tabuleiro2[i].peca == ""){
              document.body.querySelector('#' + acima1).style.backgroundColor = "rgb(136, 204, 136)"
              pecasALimpar.push(acima1);
              bateu = false
            } else{
              bateu = true
            }
          }
          if(moves == 0 && tabuleiro2[i].posicao == acima2 && tabuleiro2[i].peca == "" && bateu == false){
            document.body.querySelector('#' + acima2).style.backgroundColor = "rgb(136, 204, 136)";
            pecasALimpar.push(acima2);

          }
        }

        let esquerda, direita;

        for (let i = 0; i < 8; i++) {
          if (gps[0] == sequencia[i]) {
            if (i == 0) {
              esquerda = "";
              direita = sequencia[i + 1];
            }
            if (i == 7) {
              esquerda = sequencia[i - 1];
              direita = "";
            }
            if (i !== 0 && i !== 7) {
              esquerda = sequencia[i - 1];
              direita = sequencia[i + 1];
            }
          }
        }

        let esq, dir

        for(let i = 0; i < 64; i++){
          if(esquerda !== "" && tabuleiro2[i].posicao == esquerda + numAcima1){esq = i}
          if(direita !== "" && tabuleiro2[i].posicao == direita + numAcima1){dir = i}
        }
        if (esquerda !== "" && tabuleiro2[esq].cor == "black") {
          document.body.querySelector("#" + esquerda + numAcima1).style.backgroundColor = "rgb(200,50,50)";
          pecasALimpar.push(esquerda + numAcima1)
        }
        if (direita !== "" && tabuleiro2[dir].cor == "black") {
          document.body.querySelector("#" + direita + numAcima1).style.backgroundColor = "rgb(200,50,50)";
          pecasALimpar.push(direita + numAcima1)
        }
      }
    }

    if (lado == "black"){
      if (pecinha == "P") {
        let numAbaixo1 = String(gps[1] - 1);
        let numAbaixo2 = String(gps[1] - 2);
        let abaixo1 = gps[0] + numAbaixo1;
        let abaixo2 = gps[0] + numAbaixo2;
        
        for(let i = 0; i <= 63; i++){
          if(tabuleiro2[i].posicao == abaixo1){
            if(tabuleiro2[i].peca == ""){
              document.body.querySelector('#' + abaixo1).style.backgroundColor = "rgb(136, 204, 136)"
              pecasALimpar.push(abaixo1);
              bateu = false
            } else{
              bateu = true
            }
          }
          if(moves == 0 && tabuleiro2[i].posicao == abaixo2 && tabuleiro2[i].peca == "" && bateu == false){
            document.body.querySelector('#' + abaixo2).style.backgroundColor = "rgb(136, 204, 136)";
            pecasALimpar.push(abaixo2);

          }
        }

        let esquerda, direita;

        for (let i = 0; i < 8; i++) {
          if (gps[0] == sequencia[i]) {
            if (i == 0) {
              esquerda = "";
              direita = sequencia[i + 1];
            }
            if (i == 7) {
              esquerda = sequencia[i - 1];
              direita = "";
            }
            if (i !== 0 && i !== 7) {
              esquerda = sequencia[i - 1];
              direita = sequencia[i + 1];
            }
          }
        }

        let esq, dir

        for(let i = 0; i < 64; i++){
          if(esquerda !== "" && tabuleiro2[i].posicao == esquerda + numAbaixo1){esq = i}
          if(direita !== "" && tabuleiro2[i].posicao == direita + numAbaixo1){dir = i}
        }
        if (esquerda !== "" && tabuleiro2[esq].cor == "white") {
          document.body.querySelector("#" + esquerda + numAbaixo1).style.backgroundColor = "rgb(200,50,50)";
          pecasALimpar.push(esquerda + numAbaixo1)
        }
        if (direita !== "" && tabuleiro2[dir].cor == "white") {
          document.body.querySelector("#" + direita + numAbaixo1).style.backgroundColor = "rgb(200,50,50)";
          pecasALimpar.push(direita + numAbaixo1)
        }
      }
    }

    if(pecinha == "T"){
      let bateu = false
      let mirou = false
      
      for(let i = 63; i >= 0; i--){
        for(let j = vertical; j < 8; j++){
          if(tabuleiro2[i].posicao == gps[0]+ (j+1) && bateu == false){
            if(tabuleiro2[i].peca == ""){
              pecasAPintar.push(gps[0] + (j+1))
              pecasALimpar.push(gps[0] + (j+1))
            }else{
              if(tabuleiro2[i].cor !== lado){
                if(mirou == false){
                  document.body.querySelector('#' + gps[0] + (j+1)).style.backgroundColor = 'rgb(200, 50, 50)'
                  pecasALimpar.push(gps[0] + (j+1))
                  mirou = true
                  bateu = true

                }else{bateu = true}
              }else{bateu = true}
            }
          }
        }
      }
      
      bateu = false
      mirou = false
      
      for(let i = 63; i >= 0; i--){
        for(let e = horizontal; e > 0; e--){
          if(tabuleiro2[i].posicao == sequencia[(e-1)] + gps[1] && bateu == false){
            if(tabuleiro2[i].peca == ""){
              pecasAPintar.push(sequencia[(e-1)] + gps[1])
              pecasALimpar.push(sequencia[(e-1)] + gps[1])

            }else{
              if(tabuleiro2[i].cor !== lado){
                if(mirou == false){
                  document.body.querySelector('#' + sequencia[(e-1)] + gps[1]).style.backgroundColor = 'rgb(200, 50, 50)'
                  pecasALimpar.push(sequencia[(e-1)] + gps[1])
                  mirou = true
                  bateu = true
                
                }else{bateu = true}
              }else{bateu = true}
            }
          }
        }
      } 

      bateu = false
      mirou = false

      for(let i = 0; i <= 63; i++){
        for(let j = vertical; j > 0; j--){
          if(tabuleiro2[i].posicao == gps[0]+ (j-1) && bateu == false){
            if(tabuleiro2[i].peca == ""){
              pecasAPintar.push(gps[0] + (j-1))
              pecasALimpar.push(gps[0] + (j-1))

            }else{
              if(tabuleiro2[i].cor !== lado){
                if(mirou == false){
                  document.body.querySelector('#' + gps[0] + (j-1)).style.backgroundColor = 'rgb(200, 50, 50)'
                  pecasALimpar.push(gps[0] + (j-1))
                  mirou = true
                  bateu = true
                
                }else{bateu = true}
              }else{bateu = true}
            }
          }
        }
      }

      bateu = false
      mirou = false

      for(let i = 0; i <= 63; i++){
        for(let d = horizontal; d < 8; d++){
          if(tabuleiro2[i].posicao == sequencia[(d+1)] + gps[1] && bateu == false){
            if(tabuleiro2[i].peca == ""){
              pecasAPintar.push(sequencia[(d+1)] + gps[1])
              pecasALimpar.push(sequencia[(d+1)] + gps[1])
            }else{
              if(tabuleiro2[i].cor !== lado){
                if(mirou == false){
                  document.body.querySelector('#' + sequencia[(d+1)] + gps[1]).style.backgroundColor = 'rgb(200, 50, 50)'
                  pecasALimpar.push(sequencia[(d+1)] + gps[1])
                  mirou = true
                  bateu = true

                }else{bateu = true}
              }else{bateu = true}
            }
          }
        }
      }

      pintaCasas()
    }

    if(pecinha == "C"){
      if ((horizontal + 2) <= 7){
        if((vertical - 1) >= 1){
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == sequencia[(horizontal+2)]+(vertical-1) && tabuleiro2[i].peca == ""){
              pecasAPintar.push(sequencia[(horizontal+2)] + (vertical-1))
            }
            if(tabuleiro2[i].posicao == sequencia[(horizontal+2)]+(vertical-1) && tabuleiro2[i].peca !== "" && tabuleiro2[i].cor !== lado){
              document.body.querySelector('#' + sequencia[(horizontal+2)] + (vertical-1)).style.backgroundColor = 'rgb(200, 50, 50)'
              
            }
          }
          pecasALimpar.push(sequencia[(horizontal+2)] + (vertical-1))
        }
        
        if((vertical + 1) <= 8){
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == sequencia[(horizontal+2)]+(vertical+1) && tabuleiro2[i].peca == ""){
              pecasAPintar.push(sequencia[(horizontal+2)] + (vertical+1))
            }
            if(tabuleiro2[i].posicao == sequencia[(horizontal+2)]+(vertical+1) && tabuleiro2[i].peca !== "" && tabuleiro2[i].cor !== lado){
              document.body.querySelector('#' + sequencia[(horizontal+2)] + (vertical+1)).style.backgroundColor = 'rgb(200, 50, 50)'
              
            }
          }
          pecasALimpar.push(sequencia[(horizontal+2)] + (vertical+1))
        }
      }

      if ((horizontal - 2) >= 0){
        if((vertical - 1) >= 1){
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == sequencia[(horizontal-2)]+(vertical-1) && tabuleiro2[i].peca == ""){
              pecasAPintar.push(sequencia[(horizontal-2)] + (vertical-1))
            }
            if(tabuleiro2[i].posicao == sequencia[(horizontal-2)]+(vertical-1) && tabuleiro2[i].peca !== "" && tabuleiro2[i].cor !== lado){
              document.body.querySelector('#' + sequencia[(horizontal-2)] + (vertical-1)).style.backgroundColor = 'rgb(200, 50, 50)'
              
            }
          }
          pecasALimpar.push(sequencia[(horizontal-2)] + (vertical-1))
        }
        
        if((vertical + 1) <= 8){
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == sequencia[(horizontal-2)]+(vertical+1) && tabuleiro2[i].peca == ""){
              pecasAPintar.push(sequencia[(horizontal-2)] + (vertical+1))
            }
            if(tabuleiro2[i].posicao == sequencia[(horizontal-2)]+(vertical+1) && tabuleiro2[i].peca !== "" && tabuleiro2[i].cor !== lado){
              document.body.querySelector('#' + sequencia[(horizontal-2)] + (vertical+1)).style.backgroundColor = 'rgb(200, 50, 50)'
              
            }
          }
          pecasALimpar.push(sequencia[(horizontal-2)] + (vertical+1))
        }
      }

      if ((vertical + 2) <= 8){
        if((horizontal - 1) >= 0){
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == sequencia[(horizontal-1)] + (vertical+2) && tabuleiro2[i].peca == ""){
              pecasAPintar.push(sequencia[(horizontal-1)] + (vertical+2))
            }
            if(tabuleiro2[i].posicao == sequencia[(horizontal-1)]+(vertical+2) && tabuleiro2[i].peca !== "" && tabuleiro2[i].cor !== lado){
              document.body.querySelector('#' + sequencia[(horizontal-1)] + (vertical+2)).style.backgroundColor = 'rgb(200, 50, 50)'
              
            }
          }
          pecasALimpar.push(sequencia[(horizontal-1)] + (vertical+2))
        } 
        
        if((horizontal + 1) <= 7){
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == sequencia[(horizontal+1)] + (vertical+2) && tabuleiro2[i].peca == ""){
              pecasAPintar.push(sequencia[(horizontal+1)] + (vertical+2))
            }
            if(tabuleiro2[i].posicao == sequencia[(horizontal+1)]+(vertical+2) && tabuleiro2[i].peca !== "" && tabuleiro2[i].cor !== lado){
              document.body.querySelector('#' + sequencia[(horizontal+1)] + (vertical+2)).style.backgroundColor = 'rgb(200, 50, 50)'
              
            }
          }
          pecasALimpar.push(sequencia[(horizontal+1)] + (vertical+2))
        }
      }

      if ((vertical - 2) >= 1){
        if((horizontal - 1) >= 0){
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == sequencia[(horizontal-1)] + (vertical-2) && tabuleiro2[i].peca == ""){
              pecasAPintar.push(sequencia[(horizontal-1)] + (vertical-2))
            }
            if(tabuleiro2[i].posicao == sequencia[(horizontal-1)]+(vertical-2) && tabuleiro2[i].peca !== "" && tabuleiro2[i].cor !== lado){
              document.body.querySelector('#' + sequencia[(horizontal-1)] + (vertical-2)).style.backgroundColor = 'rgb(200, 50, 50)'
              
            }
          }
          pecasALimpar.push(sequencia[(horizontal-1)] + (vertical-2))
        } 
        
        if((horizontal + 1) <= 7){
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == sequencia[(horizontal+1)] + (vertical-2) && tabuleiro2[i].peca == ""){
              pecasAPintar.push(sequencia[(horizontal+1)] + (vertical-2))
            }
            if(tabuleiro2[i].posicao == sequencia[(horizontal+1)]+(vertical-2) && tabuleiro2[i].peca !== "" && tabuleiro2[i].cor !== lado){
              document.body.querySelector('#' + sequencia[(horizontal+1)] + (vertical-2)).style.backgroundColor = 'rgb(200, 50, 50)'
              
            }
          }
          pecasALimpar.push(sequencia[(horizontal+1)] + (vertical-2))
        }
      }

      
      pintaCasas()
    }

    if(pecinha == "B"){
      let b = vertical - 1
      let c = vertical + 1
      let bateuB = false
      let bateuC = false

      for(let d = (horizontal + 1); d < 8; d++){ //direita //baixo e cima
        if(b > 0){ //baixo
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == (sequencia[d] + b) && bateuB == false){
              if(tabuleiro2[i].peca !== "" && bateuB == false){
                bateuB = true
                if(tabuleiro2[i].cor !== lado){
                  document.body.querySelector("#" + (sequencia[d] + b)).style.backgroundColor = "rgb(200,50,50)";
                  pecasALimpar.push(sequencia[d] + b)
                }
              }else if(bateuB == false){
                pecasAPintar.push(sequencia[d] + b)
                pecasALimpar.push(sequencia[d] + b)

              }
            }
          }
          b--
        }

        if(c <= 8){ //cima
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == (sequencia[d] + c) && bateuC == false){
              if(tabuleiro2[i].peca !== "" && bateuC == false){
                bateuC = true
                if(tabuleiro2[i].cor !== lado){
                  document.body.querySelector("#" + (sequencia[d] + c)).style.backgroundColor = "rgb(200,50,50)";
                  pecasALimpar.push(sequencia[d] + c)
                }
              }else if(bateuC == false){
                pecasAPintar.push(sequencia[d] + c)
                pecasALimpar.push(sequencia[d] + c)

              }
            }
          } 
          c++
        }
      }

      bateuB = false
      bateuC = false

      b = vertical - 1
      c = vertical + 1

      for(let e = (horizontal - 1); e >= 0; e--){ //esquerda //baixo e cima
        if(b > 0){ //baixo
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == (sequencia[e] + b) && bateuB == false){
              if(tabuleiro2[i].peca !== "" && bateuB == false){
                bateuB = true
                if(tabuleiro2[i].cor !== lado){
                  document.body.querySelector("#" + (sequencia[e] + b)).style.backgroundColor = "rgb(200,50,50)";
                  pecasALimpar.push(sequencia[e] + b)
                }
              }else if(bateuB == false){
                pecasAPintar.push(sequencia[e] + b)
                pecasALimpar.push(sequencia[e] + b)

              }
            }
          }
          b--
        }

        if(c <= 8){ //cima
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == (sequencia[e] + c) && bateuC == false){
              if(tabuleiro2[i].peca !== "" && bateuC == false){
                bateuC = true
                if(tabuleiro2[i].cor !== lado){
                  document.body.querySelector("#" + (sequencia[e] + c)).style.backgroundColor = "rgb(200,50,50)";
                  pecasALimpar.push(sequencia[e] + c)
                }
              }else if(bateuB == false){
                pecasAPintar.push(sequencia[e] + c)
                pecasALimpar.push(sequencia[e] + c)

              }
            }
          } 
          c++
        }
      }
      bateuB = false
      bateuC = false
      pintaCasas()
    }

    if(pecinha == "D"){
      let b = vertical - 1
      let c = vertical + 1
      let bateuB = false
      let bateuC = false

      for(let d = (horizontal + 1); d < 8; d++){ //direita //baixo e cima
        if(b > 0){ //baixo
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == (sequencia[d] + b) && bateuB == false){
              if(tabuleiro2[i].peca !== "" && bateuB == false){
                bateuB = true
                if(tabuleiro2[i].cor !== lado){
                  document.body.querySelector("#" + (sequencia[d] + b)).style.backgroundColor = "rgb(200,50,50)";
                  pecasALimpar.push(sequencia[d] + b)
                }
              }else if(bateuB == false){
                pecasAPintar.push(sequencia[d] + b)
                pecasALimpar.push(sequencia[d] + b)

              }
            }
          }
          b--
        }

        if(c <= 8){ //cima
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == (sequencia[d] + c) && bateuC == false){
              if(tabuleiro2[i].peca !== "" && bateuC == false){
                bateuC = true
                if(tabuleiro2[i].cor !== lado){
                  document.body.querySelector("#" + (sequencia[d] + c)).style.backgroundColor = "rgb(200,50,50)";
                  pecasALimpar.push(sequencia[d] + c)
                }
              }else if(bateuC == false){
                pecasAPintar.push(sequencia[d] + c)
                pecasALimpar.push(sequencia[d] + c)

              }
            }
          } 
          c++
        }
      }

      bateuB = false
      bateuC = false

      b = vertical - 1
      c = vertical + 1

      for(let e = (horizontal - 1); e >= 0; e--){ //esquerda //baixo e cima
        if(b > 0){ //baixo
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == (sequencia[e] + b) && bateuB == false){
              if(tabuleiro2[i].peca !== "" && bateuB == false){
                bateuB = true
                if(tabuleiro2[i].cor !== lado){
                  document.body.querySelector("#" + (sequencia[e] + b)).style.backgroundColor = "rgb(200,50,50)";
                  pecasALimpar.push(sequencia[e] + b)
                }
              }else if(bateuB == false){
                pecasAPintar.push(sequencia[e] + b)
                pecasALimpar.push(sequencia[e] + b)

              }
            }
          }
          b--
        }

        if(c <= 8){ //cima
          for(let i = 0; i < 63; i++){
            if(tabuleiro2[i].posicao == (sequencia[e] + c) && bateuC == false){
              if(tabuleiro2[i].peca !== "" && bateuC == false){
                bateuC = true
                if(tabuleiro2[i].cor !== lado){
                  document.body.querySelector("#" + (sequencia[e] + c)).style.backgroundColor = "rgb(200,50,50)";
                  pecasALimpar.push(sequencia[e] + c)
                }
              }else if(bateuB == false){
                pecasAPintar.push(sequencia[e] + c)
                pecasALimpar.push(sequencia[e] + c)

              }
            }
          } 
          c++
        }
      }
      bateuB = false
      bateuC = false

      let bateu = false
      let mirou = false
      
      for(let i = 63; i >= 0; i--){
        for(let j = vertical; j < 8; j++){
          if(tabuleiro2[i].posicao == gps[0]+ (j+1) && bateu == false){
            if(tabuleiro2[i].peca == ""){
              pecasAPintar.push(gps[0] + (j+1))
              pecasALimpar.push(gps[0] + (j+1))
            }else{
              if(tabuleiro2[i].cor !== lado){
                if(mirou == false){
                  document.body.querySelector('#' + gps[0] + (j+1)).style.backgroundColor = 'rgb(200, 50, 50)'
                  pecasALimpar.push(gps[0] + (j+1))
                  mirou = true
                  bateu = true

                }else{bateu = true}
              }else{bateu = true}
            }
          }
        }
      }
      
      bateu = false
      mirou = false
      
      for(let i = 63; i >= 0; i--){
        for(let e = horizontal; e > 0; e--){
          if(tabuleiro2[i].posicao == sequencia[(e-1)] + gps[1] && bateu == false){
            if(tabuleiro2[i].peca == ""){
              pecasAPintar.push(sequencia[(e-1)] + gps[1])
              pecasALimpar.push(sequencia[(e-1)] + gps[1])

            }else{
              if(tabuleiro2[i].cor !== lado){
                if(mirou == false){
                  document.body.querySelector('#' + sequencia[(e-1)] + gps[1]).style.backgroundColor = 'rgb(200, 50, 50)'
                  pecasALimpar.push(sequencia[(e-1)] + gps[1])
                  mirou = true
                  bateu = true
                
                }else{bateu = true}
              }else{bateu = true}
            }
          }
        }
      } 

      bateu = false
      mirou = false

      for(let i = 0; i <= 63; i++){
        for(let j = vertical; j > 0; j--){
          if(tabuleiro2[i].posicao == gps[0]+ (j-1) && bateu == false){
            if(tabuleiro2[i].peca == ""){
              pecasAPintar.push(gps[0] + (j-1))
              pecasALimpar.push(gps[0] + (j-1))

            }else{
              if(tabuleiro2[i].cor !== lado){
                if(mirou == false){
                  document.body.querySelector('#' + gps[0] + (j-1)).style.backgroundColor = 'rgb(200, 50, 50)'
                  pecasALimpar.push(gps[0] + (j-1))
                  mirou = true
                  bateu = true
                
                }else{bateu = true}
              }else{bateu = true}
            }
          }
        }
      }

      bateu = false
      mirou = false

      for(let i = 0; i <= 63; i++){
        for(let d = horizontal; d < 8; d++){
          if(tabuleiro2[i].posicao == sequencia[(d+1)] + gps[1] && bateu == false){
            if(tabuleiro2[i].peca == ""){
              pecasAPintar.push(sequencia[(d+1)] + gps[1])
              pecasALimpar.push(sequencia[(d+1)] + gps[1])
            }else{
              if(tabuleiro2[i].cor !== lado){
                if(mirou == false){
                  document.body.querySelector('#' + sequencia[(d+1)] + gps[1]).style.backgroundColor = 'rgb(200, 50, 50)'
                  pecasALimpar.push(sequencia[(d+1)] + gps[1])
                  mirou = true
                  bateu = true

                }else{bateu = true}
              }else{bateu = true}
            }
          }
        }
      }

      pintaCasas()
    }

    if(pecinha == "R"){
      for(let i = 0; i < 63; i++){
        if ((horizontal + 1) < 8){
          if(tabuleiro2[i].posicao == sequencia[(horizontal + 1)] + vertical){
            if(tabuleiro2[i].peca !== ""){
              if(tabuleiro2[i].cor !== lado){
                document.body.querySelector("#" + sequencia[(horizontal + 1)] + vertical).style.backgroundColor = "rgb(200, 50, 50)"
                pecasALimpar.push(sequencia[(horizontal + 1)] + vertical)
              }
            }else{
              pecasAPintar.push(sequencia[(horizontal + 1)] + vertical)
              pecasALimpar.push(sequencia[(horizontal + 1)] + vertical)
            }
          }
          
          if(vertical + 1 <= 8){
            if(tabuleiro2[i].posicao == sequencia[(horizontal + 1)] + (vertical + 1)){
              if(tabuleiro2[i].peca !== "" ){
                if(tabuleiro2[i].cor !== lado){
                  document.body.querySelector("#" + sequencia[(horizontal + 1)] + (vertical + 1)).style.backgroundColor = "rgb(200, 50, 50)"
                  pecasALimpar.push(sequencia[(horizontal + 1)] + (vertical + 1))

                }
              }else{
                pecasAPintar.push(sequencia[(horizontal + 1)] + (vertical + 1))
                pecasALimpar.push(sequencia[(horizontal + 1)] + (vertical + 1))
              }
    
            }
          }
          if(vertical - 1 > 0){
            if(tabuleiro2[i].posicao == sequencia[(horizontal + 1)] + (vertical - 1)){
              if(tabuleiro2[i].peca !== "" ){
                if(tabuleiro2[i].cor !== lado){
                  document.body.querySelector("#" + sequencia[(horizontal + 1)] + (vertical - 1)).style.backgroundColor = "rgb(200, 50, 50)"
                  pecasALimpar.push(sequencia[(horizontal + 1)] + (vertical - 1))

                }
              }else{
                pecasAPintar.push(sequencia[(horizontal + 1)] + (vertical - 1))
                pecasALimpar.push(sequencia[(horizontal + 1)] + (vertical - 1))
              }
            }
          }
        }
        if (horizontal - 1 >= 0){
          if(tabuleiro2[i].posicao == sequencia[(horizontal - 1)] + vertical){
            if(tabuleiro2[i].peca !== "" ){
              if(tabuleiro2[i].cor !== lado){
                document.body.querySelector("#" + sequencia[(horizontal - 1)] + vertical).style.backgroundColor = "rgb(200, 50, 50)"
                pecasALimpar.push(sequencia[(horizontal - 1)] + vertical)

              }
            }else{
              pecasAPintar.push(sequencia[(horizontal - 1)] + vertical)
              pecasALimpar.push(sequencia[(horizontal - 1)] + vertical)
            }
          }

          if(vertical + 1 <= 8){
            if(tabuleiro2[i].posicao == sequencia[(horizontal - 1)] + (vertical + 1)){
              if(tabuleiro2[i].peca !== "" ){
                if(tabuleiro2[i].cor !== lado){
                  document.body.querySelector("#" + sequencia[(horizontal - 1)] + (vertical + 1)).style.backgroundColor = "rgb(200, 50, 50)"
                  pecasALimpar.push(sequencia[(horizontal - 1)] + (vertical + 1))

                }
              }else{
                pecasAPintar.push(sequencia[(horizontal - 1)] + (vertical + 1))
                pecasALimpar.push(sequencia[(horizontal - 1)] + (vertical + 1))
              }
            }
          }

          if(vertical - 1 > 0){
            if(tabuleiro2[i].posicao == sequencia[horizontal - 1] + (vertical - 1)){
              if(tabuleiro2[i].peca !== "" ){
                if(tabuleiro2[i].cor !== lado){
                  document.body.querySelector("#" + sequencia[horizontal - 1] + (vertical - 1)).style.backgroundColor = "rgb(200, 50, 50)"
                  pecasALimpar.push(sequencia[horizontal - 1] + (vertical - 1))

                }
              }else{
                pecasAPintar.push(sequencia[horizontal - 1] + (vertical - 1))
                pecasALimpar.push(sequencia[horizontal - 1] + (vertical - 1))   
              }
            }
          }
          
        }
        if(vertical + 1 <= 8){
          if(tabuleiro2[i].posicao == sequencia[(horizontal)] + (vertical + 1)){
            if(tabuleiro2[i].peca !== "" ){
              if(tabuleiro2[i].cor !== lado){
                document.body.querySelector("#" + sequencia[(horizontal)] + (vertical + 1)).style.backgroundColor = "rgb(200, 50, 50)"
                pecasALimpar.push(sequencia[(horizontal)] + (vertical + 1))

              }
            }else{
              pecasAPintar.push(sequencia[(horizontal)] + (vertical + 1))
              pecasALimpar.push(sequencia[(horizontal)] + (vertical + 1))
            }
          }
        }
        if(vertical - 1 > 0){
          if(tabuleiro2[i].posicao == sequencia[(horizontal)] + (vertical - 1)){
            if(tabuleiro2[i].peca !== "" ){
              if(tabuleiro2[i].cor !== lado){
                document.body.querySelector("#" + sequencia[(horizontal)] + (vertical - 1)).style.backgroundColor = "rgb(200, 50, 50)"
                pecasALimpar.push(sequencia[(horizontal)] + (vertical - 1))

              }
            }else{
              pecasAPintar.push(sequencia[(horizontal)] + (vertical - 1))
              pecasALimpar.push(sequencia[(horizontal)] + (vertical - 1))
            }
          }
        }
      }
      pintaCasas()
    }
  }
}

function movePeca(qAg, qAn) {
  let quadradoAg, quadradoAn;
  let Ag, An;
  Ag = qAg;
  An = qAn;

  for (let i = 0; i < 64; i++) {
    if (tabuleiro2[i].posicao == Ag) {
      quadradoAg = i;
    }
    if (tabuleiro2[i].posicao == An) {
      quadradoAn = i;
    }
  }

  tabuleiro2[quadradoAg].peca = tabuleiro2[quadradoAn].peca;
  tabuleiro2[quadradoAg].cor = tabuleiro2[quadradoAn].cor;

  tabuleiro2[quadradoAn].peca = "";
  tabuleiro2[quadradoAn].cor = "";
  tabuleiro2[quadradoAn].lances++;

  desenha();
  limpaAPintada();
}

function comePeca(qAg, qAn){
  let quadradoAg, quadradoAn;
  let Ag, An;
  Ag = qAg;
  An = qAn;
  console.log(Ag, An);

  for (let i = 0; i < 64; i++) {
    if (tabuleiro2[i].posicao == Ag) {
      quadradoAg = i;
    }
    if (tabuleiro2[i].posicao == An) {
      quadradoAn = i;
    }
  }

  tabuleiro2[quadradoAg].peca = tabuleiro2[quadradoAn].peca;
  tabuleiro2[quadradoAg].cor = tabuleiro2[quadradoAn].cor;
  tabuleiro2[quadradoAg].lances += 1

  tabuleiro2[quadradoAn].peca = "";
  tabuleiro2[quadradoAn].cor = "";


  desenha()
  limpaAPintada()  
}

function limpaAPintada() {
  for (let i = 0; i < pecasALimpar.length; i++) {
    document.body.querySelector("#" + pecasALimpar[i]).style.backgroundColor = "";
  }
  pecasALimpar = [];
}

function vejaPeca(peca) {    
  let puta, valorDaPuta
  let pecaAgora = String(peca);
  let corAgora = document.body.querySelector("#" + pecaAgora).style.backgroundColor;

  for(let j = 0; j < 64; j++){
    if(tabuleiro2[j].posicao == pecaAgora){
      puta = tabuleiro2[j].cor
      valorDaPuta = j
    }
  }

  if (corAgora == "rgb(68, 119, 68)") {
    return;
  }
  if (corAgora == "rgb(136, 204, 136)") {
    pecasALimpar.push(String(pecaAnterior));
    
    movePeca(pecaAgora, pecaAnterior);
    
    if (deQuemEAVez == 'white'){
      deQuemEAVez = 'black'
    }else{
      deQuemEAVez = 'white'
    }
    return;
  }
  if(corAgora == "rgb(200, 50, 50)"){
    
    pecasALimpar.push(String(pecaAnterior));
    
    comePeca(pecaAgora, pecaAnterior);
    
    if (deQuemEAVez == 'white'){
      deQuemEAVez = 'black'
    }else{
      deQuemEAVez = 'white'
    }
    return
  }
  if (puta == deQuemEAVez){
    if (corAgora == "") {
      pecasALimpar.push(String(pecaAnterior));

      limpaAPintada();

      document.body.querySelector("#" + pecaAgora).style.backgroundColor = "rgb(68, 119, 68)";

      pecaAnterior = pecaAgora;
      veLugar(valorDaPuta);
      return;
    }
  } 
}